<!DOCTYPE html>
<html>
<head>
	<title>Component</title>
	<script src="https://code.jquery.com/jquery-3.2.1.js" integrity="sha256-DZAnKJ/6XZ9si04Hgrsxu/8s717jcIzLy3oi35EouyE=" crossorigin="anonymous"></script>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
	<script src="https://unpkg.com/vue"></script>
	<script src="https://unpkg.com/vuex@2.0.0"></script>
</head>
<body>
	<div id="main">
	<location></location>
	</div>
	<link rel="import" href="location.html">
	<script type="text/javascript">
		var store=new Vuex.Store({
		    state: {
		       isLoggedIn: {},
		       location: ""
		    },
		    mutations: {
		      login (state, user) {
		         state.isLoggedIn={"logged":"true", "user":user}
		         main.$emit("login_event");
		      },
		      logout (state, user) {
		         state.isLoggedIn={"logged":"false", "user":user}
		         main.$emit("logout_event");
		      },
		      changeLocation(state, location) {
		           state.location=location;
		           main.$emit("location_change_event");
		      }
		    },
		    getters: {
		      loggedInUser: state => {
		        return state.isLoggedIn;
		      },
		      getLocation: state => {
		        return state.location;
		      }
		    }
		});
		var main=new Vue({
           el: "#main"
		});
	</script>
</body>
</html>